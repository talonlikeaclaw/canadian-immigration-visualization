stages:
  - lint 
workflow:
  rules:
    # a merge request
    - if: '$CI_PIPELINE_SOURCE == "merge_request_event" && $CI_MERGE_REQUEST_EVENT_TYPE == "merge_request_ready" '
  # a new tag pushed
    - if: $CI_COMMIT_TAG
  # commit made to the default branch (usually main)
    - if: $CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH

lint:
  stage: lint
  image : node:20
  before_script:
    - npm install --prefix frontend
    - npm install --prefix backend
  script: 
  - npm run lint --prefix frontend
  - npm run lint --prefix backend